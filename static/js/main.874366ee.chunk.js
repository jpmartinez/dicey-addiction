(this["webpackJsonpdicey-addition"]=this["webpackJsonpdicey-addition"]||[]).push([[0],[,,,,,function(e,t,a){e.exports={title:"round_title__1ciOw",header:"round_header__1zlhj",moves:"round_moves__aYg88",move:"round_move__1Ab2W",result:"round_result__1JvGK",playerMove:"round_playerMove__1STQu",separator:"round_separator__fn5vX"}},,function(e,t,a){e.exports={container:"score-table_container__23qvO",moves:"score-table_moves__2MMHQ",score:"score-table_score__Hs3YA",points:"score-table_points__3oiqL",point:"score-table_point__2Xlmo",win:"score-table_win__2b97m",lose:"score-table_lose__7rcaJ"}},,,,,function(e,t,a){e.exports={form:"name-form_form__2GZPv",input:"name-form_input__1rhO9",fieldContainer:"name-form_fieldContainer__3jDh6"}},,,,,,,,function(e,t,a){e.exports={notRunning:"timer_notRunning__2ROuj",running:"timer_running__2Z2r4",container:"timer_container__3wDMi",fill:"timer_fill__T8QpC",text:"timer_text__3hYtL"}},,,,,function(e,t,a){e.exports={card:"card_card__1f1QP",bg:"card_bg__sbgdl"}},function(e,t,a){e.exports={digit:"digit_digit__1ZyUJ",dragging:"digit_dragging__1TZ7P"}},function(e,t,a){e.exports={digitBox:"digit-box_digitBox__1lbwv",isOver:"digit-box_isOver__1KTj-"}},,,,function(e,t,a){e.exports={button:"button_button__22onO"}},function(e,t,a){e.exports={container:"digits_container__10Gnc"}},function(e,t,a){e.exports={text:"text_text__1s6PM"}},function(e,t,a){e.exports={text:"large-text_text__12z2i"}},function(e,t,a){e.exports={formula:"sum_formula__2ALfU"}},function(e,t,a){e.exports={playArea:"player1_playArea__1BGzc"}},function(e,t,a){e.exports={playArea:"player2_playArea__2O9od"}},,,,,,function(e,t,a){e.exports=a(53)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),i=a(2),o=a(55),u=a(40),s=a(39),m=(a(51),a(25)),p=a.n(m);var d=function(e){var t=e.children;return r.a.createElement("div",{className:p.a.bg},r.a.createElement("div",{className:p.a.card},t))},v=a(41),f=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return"".concat(e," ").concat(t)}),"")},y=a(31),_=a.n(y);function g(e){var t=e.className,a=e.children,n=Object(v.a)(e,["className","children"]);return r.a.createElement("button",Object.assign({className:f(_.a.button,t)},n),a)}var E=a(56),b=a(11),O="digit",x=a(26),j=a.n(x);function N(e){var t=e.value,a=e.canDrag,n=Object(b.b)({from:{number:0},to:{number:isNaN(t)?0:t},config:{duration:500}}),l=Object(E.a)({item:{type:O,value:t},collect:function(e){return{isDragging:!!e.isDragging(),value:t}},canDrag:function(){return a&&!isNaN(t)}}),c=Object(i.a)(l,2),o=c[0].isDragging,u=c[1];return r.a.createElement("div",{className:f(j.a.digit,o&&j.a.dragging),ref:u},isNaN(t)?"?":r.a.createElement(b.a.span,null,n.number.interpolate((function(e){return Math.floor(e)}))))}var h=a(32),w=a.n(h);function C(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,1)[0],a=t.digits.length?t.digits:["?","?","?","?"];return r.a.createElement("div",{className:w.a.container},a.map((function(e,a){return r.a.createElement(N,{key:a,value:e,canDrag:t.timer.running})})))}var M=a(33),S=a.n(M);function k(e){var t=e.className,a=e.children;return r.a.createElement("span",{className:f(S.a.text,t)},a)}var A=a(34),D=a.n(A);function I(e){var t=e.className,a=e.children;return r.a.createElement(k,{className:f(D.a.text,t)},a)}var P=a(7),F=a.n(P),R=function(e){var t=e.match;return r.a.createElement("div",{className:F.a.points},t.map((function(e,t){return r.a.createElement("div",{key:t,className:f(F.a.point,e?F.a.win:null!=e&&F.a.lose)})})))};function G(e){var t=e.title,a=void 0===t?"Puntaje":t,l=Object(n.useContext)(ye),c=Object(i.a)(l,1)[0].players,o=c.player1,u=c.player2;return r.a.createElement("div",{className:F.a.container},r.a.createElement(k,null,a),r.a.createElement("div",{className:F.a.moves},r.a.createElement(k,null,o.name),r.a.createElement(R,o),r.a.createElement(k,{className:F.a.score},o.score),r.a.createElement(k,null,u.name),r.a.createElement(R,u),r.a.createElement(k,{className:F.a.score},u.score)))}var T=a(6),B=a(10),L=a(12),Q=a.n(L);var J=a(57),Z=a(27),q=a.n(Z);function z(e){var t=e.id,a=Object(n.useContext)(ye),l=Object(i.a)(a,2),c=l[0],o=c.timer,u=c.move,s=l[1],m=Object(J.a)({accept:O,drop:function(e){var a=e.value;return u[t]=a,s({type:"setMove",value:u.splice(0)})},collect:function(e){return{isOver:!!e.isOver()}},canDrop:function(){return o.running}}),p=Object(i.a)(m,2),d=p[0].isOver,v=p[1];return r.a.createElement("div",{ref:v,className:f(q.a.digitBox,d&&o.running&&q.a.isOver)},isNaN(u[t])?"":u[t])}var W=a(35),Y=a.n(W);function H(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,1)[0].move;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Y.a.formula},r.a.createElement(z,{id:"0"},t[0]),r.a.createElement(z,{id:"1"},t[1]),r.a.createElement("span",null,"+"),r.a.createElement(z,{id:"2"},t[2]),r.a.createElement(z,{id:"3"},t[3])))}var K=a(20),U=a.n(K);function X(){var e=Object(n.useState)(10),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),d=p[0],v=p[1],f=Object(n.useContext)(ye),y=Object(i.a)(f,2),_=y[0].timer,E=y[1];return Object(n.useEffect)((function(){var e;return a&&u&&(e=setInterval((function(){l((function(t){return t<=1?(s(!1),v(!0),clearInterval(e),10):(s(!0),t-1)}))}),1e3)),function(){return clearInterval(e)}}),[u,a]),Object(n.useEffect)((function(){return E({type:"setTimer",value:{running:u,finished:d}})}),[u,d,E]),r.a.createElement(r.a.Fragment,null,_.running?r.a.createElement($,{timeLeft:a,running:_.running,finished:_.finished}):r.a.createElement(g,{onClick:function(){d||(E({type:"setTimer",value:{running:!0}}),s(!0))}},"EMPEZAR"))}var $=function(e){var t=e.timeLeft,a=e.running,n=(e.finished,Object(b.b)({from:{width:"0px"},to:{width:"298px"},config:{duration:1e4}}));return r.a.createElement("div",{className:U.a.container},r.a.createElement(k,{className:U.a.text},function(e,t){return t?"".concat(e," segundos!"):"Empezar"}(t,a)),r.a.createElement(b.a.div,{style:n,className:U.a.fill}))},V=a(36),ee=a.n(V),te=a(37),ae=a.n(te),ne=a(5),re=a.n(ne),le=function(e){var t=e.move,a=e.sum,n=t.slice(0,2).reduce((function(e,t){return isNaN(t)?"".concat(e,"?"):"".concat(e).concat(t)}),""),r=t.slice(2,4).reduce((function(e,t){return isNaN(t)?"".concat(e,"?"):"".concat(e).concat(t)}),"");return"".concat(n," + ").concat(r," = ").concat(t.some((function(e){return isNaN(e)}))?"???":a)},ce={start:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=(t[0],t[1]),l=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],l=a[1];return[function(t){t&&(t.preventDefault(),e(),l({}))},function(e){e.persist(),l((function(t){return Object(B.a)({},t,Object(T.a)({},e.target.name,e.target.value))}))},r]}((function(){return a({type:"setPlayer",value:{player1:{name:m},player2:{name:p}},nextStep:"generate"})})),c=Object(i.a)(l,3),o=c[0],u=c[1],s=c[2],m=s.player1,p=s.player2;return r.a.createElement("form",{onSubmit:o,className:Q.a.form},r.a.createElement("div",{className:Q.a.fieldContainer},r.a.createElement("label",null,r.a.createElement(k,null,"\xbfQui\xe9n va primero?")),r.a.createElement("input",{className:Q.a.input,type:"text",name:"player1",onChange:u,value:m||"",required:!0})),r.a.createElement("div",{className:Q.a.fieldContainer},r.a.createElement("label",null,r.a.createElement(k,null,"\xbfQui\xe9n va segundo?")),r.a.createElement("input",{className:Q.a.input,type:"text",name:"player2",onChange:u,value:p||"",required:!0})),r.a.createElement(g,{type:"submit"},"Siguiente"))},generate:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=(t[0],t[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(g,{onClick:function(){return a({type:"setDigits",value:["","","",""].map((function(e){return Math.floor(10*Math.random())})),nextStep:"player1"})}},"Generar"))},player1:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=t[0],l=a.move,c=a.players.player1,o=a.timer,u=t[1],s={player1:Object(B.a)({},c,{move:l.map((function(e){return""===e?void 0:e}))}),move:["","","",""]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{className:ee.a.playArea},r.a.createElement(k,null,c.name),r.a.createElement(H,null)),o.finished?r.a.createElement(g,{onClick:function(){return u({type:"next",value:s,nextStep:"player2"})}},"Siguiente"):r.a.createElement(X,null))},player2:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=t[0],l=a.move,c=a.timer,o=a.players.player2,u=t[1],s={player2:Object(B.a)({},o,{move:l.map((function(e){return""===e?void 0:e}))}),move:["","","",""]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{className:ae.a.playArea},r.a.createElement(k,null,o.name),r.a.createElement(H,null)),c.finished?r.a.createElement(g,{onClick:function(){return u({type:"calculate",value:s})}},"Siguiente"):r.a.createElement(X,null))},score:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=t[0],l=a.round,c=a.players,o=c.player1,u=c.player2,s=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:re.a.header},r.a.createElement(k,{className:re.a.round},"Round ".concat(l.id)),r.a.createElement(k,{className:re.a.title},function(e){var t=e.draw,a=e.winner;return a?"Ganador ".concat(a):t?"Empate":"Ambos pierden"}(l))),r.a.createElement("div",{className:re.a.moves},r.a.createElement(k,null,o.name),r.a.createElement(k,{className:re.a.move},le(o)),r.a.createElement(k,{className:re.a.result},o.result),r.a.createElement(k,null,u.name),r.a.createElement(k,{className:re.a.move},le(u)),r.a.createElement(k,{className:re.a.result},u.result)),r.a.createElement("div",{className:re.a.separator}),r.a.createElement(G,null),r.a.createElement(g,{onClick:function(){return s({type:"nextRound"})}},"Siguiente"))},end:function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,2),a=t[0],l=a.winner,c=a.round,o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{title:"Puntaje Final"}),r.a.createElement(I,null,l&&!c.draw?"Ganador ".concat(l):"Empate"),r.a.createElement(g,{onClick:function(){return o({type:"reset"})}},"\xbfOtra?"))}},ie=function(){return r.a.createElement("div",null)},oe=function(){var e=Object(n.useContext)(ye),t=Object(i.a)(e,1)[0].step,a=ce[t]||ie;return r.a.createElement(d,null,r.a.createElement(a,null))},ue=a(38),se=a.n(ue),me={arrayMerge:function(e,t){return t}},pe=function(e,t,a){return t},de=function(e,t,a){return se()(e,t,Object.assign({},a,me))},ve={players:{player1:{score:0,match:[null,null,null,null,null,null,null,null,null,null]},player2:{score:0,match:[null,null,null,null,null,null,null,null,null,null]}},timer:{running:!1,finished:!1},digits:{},move:["","","",""],round:{id:1},step:"start"};function fe(e,t){switch(console.info({state:e,action:t}),t.type){case"setDigits":return de(e,{digits:t.value,step:t.nextStep});case"next":return de(e,{timer:{finished:!1},move:ve.move,players:t.value,step:t.nextStep},{arrayMerge:pe});case"setMove":return de(e,{move:t.value},{arrayMerge:pe});case"setPlayer":return de(e,{players:t.value,step:t.nextStep});case"setTimer":return de(e,{timer:t.value});case"calculate":var a=(e=de(e,{timer:{finished:!1},move:ve.move,players:t.value},{arrayMerge:pe})).players.player1.move,n=e.players.player2.move,r=parseInt("".concat(a[0]).concat(a[1]))+parseInt("".concat(a[2]).concat(a[3])),l=parseInt("".concat(n[0]).concat(n[1]))+parseInt("".concat(n[2]).concat(n[3]));r=isNaN(r)?1e3:r,l=isNaN(l)?1e3:l;var c,i=Math.abs(100-r),o=Math.abs(100-l),u=i===o,s=r>=1e3&&l>=1e3;u||s||(r>100&&(c=!s&&e.players.player2.name),l>100&&(c=!s&&e.players.player1.name),c=i>o?e.players.player2.name:e.players.player1.name);var m=e.players.player1.match.slice(0);m[e.round.id-1]=c===e.players.player1.name;var p={result:i,sum:r>=1e3?"Incompleto":r,score:c===e.players.player1.name?e.players.player1.score+1:e.players.player1.score,match:m},d=e.players.player2.match.slice(0);d[e.round.id-1]=c===e.players.player2.name;var v={result:o,sum:l>=1e3?"Incompleto":l,score:c===e.players.player2.name?e.players.player2.score+1:e.players.player2.score,match:d};return de(e,{round:{draw:u,bothLose:s,winner:c},players:{player1:p,player2:v},step:"score"});case"nextRound":return 10===e.round.id?de(e,{round:{id:e.round.id+1},move:ve.move,digits:ve.digits,step:"end",winner:e.players.player2.score>e.players.player1.score?e.players.player2.name:e.players.player1.name},{arrayMerge:pe}):de(e,{round:{id:e.round.id+1},move:ve.move,digits:ve.digits,step:"generate"},{arrayMerge:pe});case"reset":return ve;default:throw new Error}}var ye=r.a.createContext(),_e=function(e){var t=Object(n.useReducer)(fe,ve),a=Object(i.a)(t,2),l=a[0],c=a[1];return r.a.createElement(ye.Provider,{value:[l,c]},e.children)};var ge=function(){return r.a.createElement(_e,null,r.a.createElement(o.a,{backend:u.a,options:s.a},r.a.createElement(oe,null)))};a(52),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[43,1,2]]]);
//# sourceMappingURL=main.874366ee.chunk.js.map