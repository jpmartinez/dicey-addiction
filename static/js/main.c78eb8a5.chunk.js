(this["webpackJsonpdicey-addition"]=this["webpackJsonpdicey-addition"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={container:"score-table_container__23qvO",headers:"score-table_headers__1WfUJ",rows:"score-table_rows__Tx2nJ"}},,,function(e,t,a){e.exports={form:"name-form_form__2GZPv",input:"name-form_input__1rhO9",fieldContainer:"name-form_fieldContainer__3jDh6"}},,,,,,,,,,,,function(e,t,a){e.exports={card:"card_card__1f1QP",bg:"card_bg__sbgdl"}},function(e,t,a){e.exports={digit:"digit_digit__1ZyUJ",dragging:"digit_dragging__1TZ7P"}},function(e,t,a){e.exports={digitBox:"digit-box_digitBox__1lbwv",isOver:"digit-box_isOver__1KTj-"}},function(e,t,a){e.exports={notRunning:"timer_notRunning__2ROuj",running:"timer_running__2Z2r4"}},,,,,function(e,t,a){e.exports={button:"button_button__22onO"}},function(e,t,a){e.exports={container:"digits_container__10Gnc"}},function(e,t,a){e.exports={name:"text_name__12Jyu"}},function(e,t,a){e.exports={formula:"sum_formula__2ALfU"}},,,,,,function(e,t,a){e.exports=a(49)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=a(2),i=a(51),u=a(36),s=a(35),m=(a(47),a(22)),p=a.n(m);var v=function(e){var t=e.children;return r.a.createElement("div",{className:p.a.bg},r.a.createElement("div",{className:p.a.card},t))},f=a(37),d=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return"".concat(e," ").concat(t)}),"")},g=a(30),y=a.n(g);function b(e){var t=e.className,a=e.children,n=Object(f.a)(e,["className","children"]);return r.a.createElement("button",Object.assign({className:d(y.a.button,t)},n),a)}var E=a(52),O=a(26),_="digit",j=a(23),x=a.n(j);function N(e){var t=e.value,a=e.canDrag,n=Object(O.b)({from:{number:0},to:{number:isNaN(t)?0:t},config:{duration:500}}),c=Object(E.a)({item:{type:_,value:t},collect:function(e){return{isDragging:!!e.isDragging(),value:t}},canDrag:function(){return a&&!isNaN(t)}}),l=Object(o.a)(c,2),i=l[0].isDragging,u=l[1];return r.a.createElement("div",{className:d(x.a.digit,i&&x.a.dragging),ref:u},isNaN(t)?"?":r.a.createElement(O.a.span,null,n.number.interpolate((function(e){return Math.floor(e)}))))}var h=a(31),w=a.n(h);function C(){var e=Object(n.useContext)(re),t=Object(o.a)(e,1)[0],a=t.digits.length?t.digits:["?","?","?","?"];return r.a.createElement("div",{className:w.a.container},a.map((function(e,a){return r.a.createElement(N,{key:a,value:e,canDrag:t.timer.running})})))}var S=a(32),M=a.n(S);function D(e){var t=e.className,a=e.children;return r.a.createElement("span",{className:d(M.a.name,t)},a)}var k=a(7),I=a.n(k);function P(){var e=Object(n.useContext)(re),t=Object(o.a)(e,1)[0].players,a=t.player1,c=t.player2;return r.a.createElement("div",{className:I.a.container},r.a.createElement(D,{className:I.a.headers},"Jugador"),r.a.createElement(D,{className:I.a.headers},"Puntaje"),r.a.createElement(D,{className:I.a.rows},a&&a.name),r.a.createElement(D,{className:I.a.rows},a&&a.score),r.a.createElement(D,{className:I.a.rows},c&&c.name),r.a.createElement(D,{className:I.a.rows},c&&c.score))}var R=a(5),F=a(9),J=a(10),T=a.n(J);var U=a(53),B=a(24),G=a.n(B);function Z(e){var t=e.id,a=Object(n.useContext)(re),c=Object(o.a)(a,2),l=c[0],i=l.timer,u=l.move,s=c[1],m=Object(U.a)({accept:_,drop:function(e){var a=e.value;return u[t]=a,s({type:"setMove",value:u.splice(0)})},collect:function(e){return{isOver:!!e.isOver()}},canDrop:function(){return i.running}}),p=Object(o.a)(m,2),v=p[0].isOver,f=p[1];return r.a.createElement("div",{ref:f,className:d(G.a.digitBox,v&&i.running&&G.a.isOver)},isNaN(u[t])?"":u[t])}var A=a(33),q=a.n(A);function L(){var e=Object(n.useContext)(re),t=Object(o.a)(e,1)[0].move;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:q.a.formula},r.a.createElement(Z,{id:"0"},t[0]),r.a.createElement(Z,{id:"1"},t[1]),r.a.createElement("span",null,"+"),r.a.createElement(Z,{id:"2"},t[2]),r.a.createElement(Z,{id:"3"},t[3])))}var Q=a(25),W=a.n(Q);function K(){var e=Object(n.useState)(15),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),v=p[0],f=p[1],g=Object(n.useContext)(re),y=Object(o.a)(g,2),E=(y[0],y[1]);return Object(n.useEffect)((function(){var e;return a&&u&&(e=setInterval((function(){c((function(t){return t<=1?(s(!1),f(!0),clearInterval(e),15):(s(!0),t-1)}))}),1e3)),function(){return clearInterval(e)}}),[u,a]),Object(n.useEffect)((function(){return E({type:"setTimer",value:{running:u,finished:v}})}),[u,v,E]),r.a.createElement(b,{className:d(W.a.notRunning,(u||v)&&W.a.running),onClick:function(){return!v&&s(!0)}},function(e,t,a){return a||t?a?"TIEMPO!":"".concat(e," SEGUNDOS!"):"EMPEZAR"}(a,u,v))}var $={start:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,2),a=(t[0],t[1]),c=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],c=a[1];return[function(t){t&&(t.preventDefault(),e(),c({}))},function(e){e.persist(),c((function(t){return Object(F.a)({},t,Object(R.a)({},e.target.name,e.target.value))}))},r]}((function(){return a({type:"setPlayer",value:{player1:{name:m.toUpperCase()},player2:{name:p.toUpperCase()}},nextStep:"generate"})})),l=Object(o.a)(c,3),i=l[0],u=l[1],s=l[2],m=s.player1,p=s.player2;return r.a.createElement("form",{onSubmit:i,className:T.a.form},r.a.createElement("div",{className:T.a.fieldContainer},r.a.createElement("label",null,r.a.createElement(D,null,"\xbfQui\xe9n va primero?")),r.a.createElement("input",{className:T.a.input,type:"text",name:"player1",onChange:u,value:m||"",required:!0})),r.a.createElement("div",{className:T.a.fieldContainer},r.a.createElement("label",null,r.a.createElement(D,null,"\xbfQui\xe9n va segundo?")),r.a.createElement("input",{className:T.a.input,type:"text",name:"player2",onChange:u,value:p||"",required:!0})),r.a.createElement(b,{type:"submit"},"Siguiente"))},generate:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,2),a=(t[0],t[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(b,{onClick:function(){return a({type:"setDigits",value:["","","",""].map((function(e){return Math.floor(10*Math.random())})),nextStep:"player1"})}},"Generar"))},player1:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,2),a=t[0],c=a.move,l=a.players.player1,i=(a.timer,t[1]),u={player1:Object(F.a)({},l,{move:c.map((function(e){return""===e?void 0:e}))}),move:["","","",""]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(K,null),r.a.createElement("div",null,r.a.createElement(D,null,l.name),r.a.createElement(L,null)),r.a.createElement(b,{onClick:function(){return i({type:"next",value:u,nextStep:"player2"})}},"Siguiente"))},player2:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,2),a=t[0],c=a.move,l=a.players.player2,i=t[1],u={player2:Object(F.a)({},l,{move:c.map((function(e){return""===e?void 0:e}))}),move:["","","",""]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(K,null),r.a.createElement(D,null,l.name),r.a.createElement(L,null),r.a.createElement(b,{onClick:function(){return i({type:"calculate",value:u})}},"Siguiente"))},score:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,2),a=t[0],c=a.round,l=c.draw,i=c.bothLose,u=c.winner,s=a.players,m=s.player1,p=s.player2,v=t[1];console.info(m,p);return r.a.createElement(r.a.Fragment,null,r.a.createElement((function(){return i?r.a.createElement(D,null,"Ambos pierden"):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null,l?"Empate":"Ganador ".concat(u)),r.a.createElement(D,null,"".concat(m.name," vs ").concat(p.name)),r.a.createElement(D,null,"".concat(m.sum," vs ").concat(p.sum)))}),null),r.a.createElement(P,null),r.a.createElement(b,{onClick:function(){return v({type:"nextRound"})}},"Siguiente"))},end:function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,1)[0].winner;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null,"El ganador es ".concat(t)),r.a.createElement(P,null))}},z=function(){return r.a.createElement("div",null)},H=function(){var e=Object(n.useContext)(re),t=Object(o.a)(e,1)[0].step;console.info(t);var a=$[t]||z;return r.a.createElement(v,null,r.a.createElement(a,null))},V=a(34),X=a.n(V),Y={arrayMerge:function(e,t){return t}},ee=function(e,t,a){return t},te=function(e,t,a){return X()(e,t,Object.assign({},a,Y))},ae={players:{player1:{score:0},player2:{score:0}},timer:{running:!1,finished:!1},digits:{},move:["","","",""],round:{},step:"start"};function ne(e,t){switch(console.info({state:e,action:t}),t.type){case"setDigits":return te(e,{digits:t.value,step:t.nextStep});case"next":return te(e,{move:ae.move,players:t.value,step:t.nextStep},{arrayMerge:ee});case"setMove":return te(e,{move:t.value},{arrayMerge:ee});case"setPlayer":return te(e,{players:t.value,step:t.nextStep});case"setTimer":return te(e,{timer:t.value});case"calculate":var a=(e=te(e,{move:ae.move,players:t.value},{arrayMerge:ee})).players.player1.move,n=e.players.player2.move,r=parseInt("".concat(a[0]).concat(a[1]))+parseInt("".concat(a[2]).concat(a[3])),c=parseInt("".concat(n[0]).concat(n[1]))+parseInt("".concat(n[2]).concat(n[3]));r=isNaN(r)?1e3:r,c=isNaN(c)?1e3:c;var l,o=Math.abs(100-r),i=Math.abs(100-c),u=o===i,s=r>=1e3&&c>=1e3;u||s||(r>100&&(l=!s&&e.players.player2.name),c>100&&(l=!s&&e.players.player1.name),l=o>i?e.players.player2.name:e.players.player1.name);var m={result:o,sum:r>=1e3?"Incompleto":r,score:l===e.players.player1.name?e.players.player1.score+1:e.players.player1.score},p={result:i,sum:c>=1e3?"Incompleto":c,score:l===e.players.player2.name?e.players.player2.score+1:e.players.player2.score};return te(e,{round:{draw:u,bothLose:s,winner:l},players:{player1:m,player2:p},step:"score"});case"nextRound":return e.players.player1.score>=3?te(e,{move:ae.move,digits:ae.digits,step:"end",winner:e.players.player1.name},{arrayMerge:ee}):e.players.player2.score>=3?te(e,{move:ae.move,digits:ae.digits,step:"end",winner:e.players.player2.name},{arrayMerge:ee}):te(e,{move:ae.move,digits:ae.digits,step:"generate"},{arrayMerge:ee});default:throw new Error}}var re=r.a.createContext(),ce=function(e){var t=Object(n.useReducer)(ne,ae),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement(re.Provider,{value:[c,l]},e.children)};var le=function(){return r.a.createElement(ce,null,r.a.createElement(i.a,{backend:u.a,options:s.a},r.a.createElement(H,null)))};a(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[39,1,2]]]);
//# sourceMappingURL=main.c78eb8a5.chunk.js.map